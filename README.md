Дипломная работа “Облачное хранилище”

В данной работе разработан REST-сервис, предоставляющий REST-интерфейс для загрузки файлов и вывода уже загруженных файлов пользователя.

Описание конечных точек и методов

REST-интерфейс содержит 4 конечные точки (endpoints):

    /login - используется для авторизации пользователя в приложении,
    /logout - используется для выхода пользователя из приложения,
    /file - используется для добавления файла, а также для переименовывания, удаления и скачивания уже добавленного файла,
    /list - используется для получения списка файлов, которые уже добавлены в облачное хранилище.

В конечных точках "/login" и "/logout" реализован метод POST, в конечной точке "/list" реализован метод GET. В конечной точке "/file" реализовано 4 метода:

    POST - добавляет файл,
    DELETE - удаляет файл,
    GET - скачивает файл,
    PUT - переименовывает файл.

Описание авторизации

Для получения токена пользователя необходимо перейти в конечную точку "/login" и с помощью метода POST в теле запроса передать логин и пароль текущего пользователя. Если логин и пароль совпадут с логином и паролем, которые сохранены в базе данных (БД), то пользователю будет назначен токен, который будет действителен до тех пор, пока пользователь не выйдет из приложения с использованием конечной точки "/logout".
Все последующие операции с файлами должны выполняться с использованием полученного токена.
При каждом следующем входе в приложение токен пользователя будет обновляться, на постоянной основе в БД токен не сохраняется.

Описание хранения данных

Для хранения данных о пользователях и их файлах используется СУБД PostgreSQL. Данные о пользователях сохраняются в таблице Users, файлы пользователей - в таблице Files. Таблица Users связана с таблицей Files отношением "один-ко-многим" (у каждого пользователя в облачном хранилище может быть сохранено несколько файлов).
Для хранения токенов пользователей использована структура данных Map. Токены пользователей сохраняются только во время работы программы.

Особенности реализации

    Разработка выполнена в операционной системе (ОС) Microsoft Windows 10,
    Для разработки использована IDE IntelliJ IDEA 2023.1.4 (Community Edition),
    Использован JDK Oracle OpenJDK version 20,
    Unit-тесты написаны с использованием mockito,
    Интеграционные тесты написаны с использованием testcontainers.

Для работы приложения организовано 2 контейнера:

    db - для работы с БД с использованием СУБД PostgreSQL (основан на образе postgres:15-alpine), порт 5432,
    server - для предоставления REST-интерфейса (основан на образе cloudstorage-server, который формируется при выполнении команды docker build), порт 8082:8081.

Для настройки процесса запуска контейнеров использован файл docker-compose.yml.# DiplomaCloudStorage
